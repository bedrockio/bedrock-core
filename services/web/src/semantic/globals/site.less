/*!
 * # Semantic UI - Site
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */

@import './site.variables';

/*******************************
             Site
*******************************/

// Google fonts import
@import (css)
  url('https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=fallback');

html,
body,
#root {
  height: 100%;
}

html {
  font-size: @emSize;
}

body {
  margin: 0px;
  padding: 0px;
  overflow-x: @pageOverflowX;
  min-width: @pageMinWidth;
  background: @pageBackground;
  font-family: @pageFont;
  font-size: @fontSize;
  line-height: @lineHeight;
  color: @textColor;
  color-scheme: light;

  &.nocturnal-theme {
    color: @nocturnalTextColor;
    background: @nocturnalPageBackground;
    color-scheme: dark;
  }
}

/*******************************
             Headers
*******************************/

h1,
h2,
h3,
h4,
h5 {
  font-family: @headerFont;
  line-height: @headerLineHeight;
  margin: @headerMargin;
  font-weight: @headerFontWeight;
  padding: 0em;
}

h1 {
  min-height: 1rem;
  font-size: @h1;
}
h2 {
  font-size: @h2;
}
h3 {
  font-size: @h3;
}
h4 {
  font-size: @h4;
}
h5 {
  font-size: @h5;
}

/*******************************
             Text
*******************************/

p {
  margin: @paragraphMargin;
  line-height: @paragraphLineHeight;
}
p:first-child {
  margin-top: 0em;
}
p:last-child {
  margin-bottom: 0em;
}

/*-------------------
        Links
--------------------*/

// Allow text links inside paragraphs to be blue but leave others reset.

a {
  color: @linkColor;
  text-decoration: @linkUnderline;

  &:hover {
    color: @linkHoverColor;
    text-decoration: @linkHoverUnderline;
  }

  .nocturnal-theme & {
    color: @nocturnalLinkColor;

    &:hover {
      color: @nocturnalLinkHoverColor;
    }
  }
}

/*******************************
         Scrollbars
*******************************/

/* Force Simple Scrollbars */
body ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: @customScrollbarWidth;
  height: @customScrollbarHeight;
}
body ::-webkit-scrollbar-track,
body.nocturnal-theme .ui.inverted::-webkit-scrollbar-track {
  background: @trackBackground;
  border-radius: @trackBorderRadius;
}
body ::-webkit-scrollbar-thumb,
body.nocturnal-theme .ui.inverted::-webkit-scrollbar-thumb {
  cursor: pointer;
  border-radius: @thumbBorderRadius;
  background: @thumbBackground;
  transition: @thumbTransition;
}
body ::-webkit-scrollbar-thumb:window-inactive,
body.nocturnal-theme  .ui.inverted::-webkit-scrollbar-thumb:window-inactive {
  background: @thumbInactiveBackground;
}
body ::-webkit-scrollbar-thumb:hover,
body.nocturnal-theme .ui.inverted::-webkit-scrollbar-thumb:hover {
  background: @thumbHoverBackground;
}

/* Inverted UI */
body .ui.inverted::-webkit-scrollbar-track,
body.nocturnal-theme ::-webkit-scrollbar-track {
  background: @trackInvertedBackground;
}
body .ui.inverted::-webkit-scrollbar-thumb,
body.nocturnal-theme ::-webkit-scrollbar-thumb {
  background: @thumbInvertedBackground;
}
body .ui.inverted::-webkit-scrollbar-thumb:window-inactive,
body.nocturnal-theme ::-webkit-scrollbar-thumb:window-inactive {
  background: @thumbInvertedInactiveBackground;
}
body .ui.inverted::-webkit-scrollbar-thumb:hover,
body.nocturnal-theme ::-webkit-scrollbar-thumb:hover {
  background: @thumbInvertedHoverBackground;
}

/*******************************
          Highlighting
*******************************/

/* Site */
::-webkit-selection {
  background-color: @highlightBackground;
  color: @highlightColor;
}
::-moz-selection {
  background-color: @highlightBackground;
  color: @highlightColor;
}
::selection {
  background-color: @highlightBackground;
  color: @highlightColor;
}

/* Form */
textarea::-webkit-selection,
input::-webkit-selection {
  background-color: @inputHighlightBackground;
  color: @inputHighlightColor;
}
textarea::-moz-selection,
input::-moz-selection {
  background-color: @inputHighlightBackground;
  color: @inputHighlightColor;
}
textarea::selection,
input::selection {
  background-color: @inputHighlightBackground;
  color: @inputHighlightColor;
}

/*-------------------------------------
  Moved from custom site.overrides
--------------------------------------*/

header {
  padding-bottom: 20px;

  a,
  a:hover {
    color: inherit;
  }
}

footer {
  padding: 30px 0 10px;
  font-weight: bold;
  opacity: 0.2;
}

main {
  position: relative;
  // min-height: calc(100vh - 169px); // fuzzy numbers
}

// <em> is reserved for italic emphasis in markdown
// denoted by _ or *. <strong> provides extra emphasis (bold)
// denoted by __ or **.
// <em> and <strong> may be nested so inherit
// opposing style instead of resetting

em {
  font-style: italic;
  font-weight: inherit;
}

strong {
  font-weight: bold;
  font-style: inherit;
}

.footer {
  &.ui.segment.ui.segment {
    padding: 25px 25px 15px 25px;
    margin: 0 -10px -15px;

    @media only screen and (min-width: 768px) {
      // refer to sidebar.less for sizes
      padding: 25px 25px 19px 25px;
      margin: 0 -25px -10px;
    }
  }

  .ui.list > a.item {
    color: #999;

    &:hover,
    &:active {
      color: lighten(#999, 10);
    }

    .nocturnal-theme & {
      color: rgba(255, 255, 255, .5);

      &:hover,
      &:active {
        color: rgba(255, 255, 255, .6);
      }
    }
  }
}

// Tone down the images
// Opinionated adjustment, can remove if users find this too harsh or images shouldnâ€™t be adjusted.
.nocturnal-theme img {
  filter: brightness(.8) contrast(1.2);
}


// Tectonic

body {
  --tnic-primary-color: @primaryColor; 
  --tnic-primary-color-hover: darken(@primaryColor, 20%);;

  --tnic-text-color: @textColor;
  --tnic-background: @pageBackground;
  --tnic-background-hover: #f5f5f5;
  --tnic-border: #cccccc;
  --tnic-box-shadow: rgba(34, 36, 38, 0.15);
  --tnic-button-color: #ffffff;
  --tnic-table-border: rgba(34, 36, 38, 0.10);
  --tnic-input-background: @inputBackground;
  --tnic-input-border: @borderColor;
  --tnic-message-background: #f8f8f9; 
  --tnic-message-border: @strongBorderColor;
  --tnic-error-color: #9f3a38;
  --tnic-error-background: #fff6f6;
  --tnic-error-border: #e0b4b4;
}

body.nocturnal-theme {
  --tnic-primary-color: @nocturnalPrimaryColor; 
  --tnic-primary-color-hover: darken(@nocturnalPrimaryColor, 20%);

  --tnic-text-color: @nocturnalTextColor;
  --tnic-background: @nocturnalPageBackground;
  --tnic-background-hover: lighten(@nocturnalPageBackground, 15%);
  --tnic-border: #cccccc;
  --tnic-box-shadow: rgba(0, 0, 0, 0.05);
  --tnic-button-color: @white;
  --tnic-table-border: rgba(255, 255, 255, 0.10);
  --tnic-input-background: @nocturnalInputBackground;
  --tnic-input-border: @nocturnalBorderColor;
  --tnic-message-background: lighten(@nocturnalPageBackground, 10%);
  --tnic-message-border: @nocturnalStrongBorderColor;
  --tnic-error-color: #e0b4b4;
  --tnic-error-background: #9f3a38;
  --tnic-error-border: #fff6f6;
}

// Tectonic hotfixes for nocturnal theme
// These will need to be properly integrated in tectonic repo

// Date picker background & border fix
.nocturnal-theme .tnic-overlay,
.nocturnal-theme .tnic-dropdown .tnic-dropdown--menu {
  background-color: saturate(lighten(@nocturnalPageBackground, 5), 15, relative);
  // border: 1px solid @nocturnalStrongBorderColor;
}

// White border on donut charts
.nocturnal-theme .recharts-surface .recharts-pie .recharts-pie-sector {
  path[stroke="#fff"],
  path[stroke="#ffffff"] {
    stroke: var(--tnic-background) !important;
  }
}

// Tooltip background
.nocturnal-theme .recharts-wrapper .recharts-tooltip-wrapper .recharts-default-tooltip {
  background-color: saturate(lighten(@nocturnalPageBackground, 5), 15, relative) !important;
  border-color: @nocturnalBorderColor !important;

  .recharts-tooltip-item[style*="color: rgb(0, 0, 0)"] {
    color: @nocturnalTextColor !important;
  }
}
.nocturnal-theme .recharts-wrapper .recharts-tooltip-wrapper > div[style*="background-color: rgb(255, 255, 255)"] {
  background-color: saturate(lighten(@nocturnalPageBackground, 5), 15, relative) !important;
}

// Table dividers (/analytics/msp/equipment)
.nocturnal-theme .ui.celled.very.basic.table td[style*="border-top: 1px solid rgba(34, 36, 38, 0.1)"] {
  border-top: 1px solid rgba(255, 255, 255, 0.2) !important;
}

// Recharts graph axis and labels
.nocturnal-theme .recharts-wrapper {
  // Axis
  .recharts-cartesian-axis-line,
  .recharts-cartesian-axis-tick-line {
    stroke: lighten(@nocturnalPageBackground, 40);
  }

  // Labels
  .recharts-text {
    fill: rgba(255, 255, 255, .9);
  }
}

// Compensate table headers for scrollbar offset
.tnic-chartContainer  .tnic-table {
  thead tr {
    padding-right: 10px;
  }
}